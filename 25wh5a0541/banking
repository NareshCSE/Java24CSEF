package demo;

import java.util.Scanner;

class account {
	int accNo;
	String name;
	String aadhar;
	String pan;
	double balance;

	account(int accNo, String name, String aadhar, String pan) {
		this.accNo = accNo;
		this.name = name;
		this.aadhar = aadhar;
		this.pan = pan;
		this.balance = 0.0;
	}

	void credit(double amount) {
		balance += amount;
		System.out.println("Amount credited successfully!");
		System.out.println("Updated Balance: " + balance);
	}

	void debit(double amount) {
		if (amount <= balance) {
			balance -= amount;
			System.out.println("Amount debited successfully!");
			System.out.println("Remaining Balance: " + balance);
		} else {
			System.out.println("Insufficient balance!");
		}
	}

	void showBalance() {
		System.out.println("Account Holder: " + name);
		System.out.println("Balance: " + balance);
	}
}

public class bankaccount {
	static account[] accounts = new account[20];
	static int count = 0;

	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		char cont;
		do {
			System.out.println(" BANK APPLICATION");
			System.out.println("1. Create Account");
			System.out.println("2. Credit Amount");
			System.out.println("3. Debit Amount");
			System.out.println("4. Mini Statement / Balance Enquiry");
			System.out.println("5. Transfer Amount");
			System.out.println("6. Exit");
			System.out.print("Enter your choice: ");
			int choice = sc.nextInt();
			switch (choice) {
			case 1 -> createAccount(sc);
			case 2 -> creditAmount(sc);
			case 3 -> debitAmount(sc);
			case 4 -> miniStatement(sc);
			case 5 -> transferAmount(sc);
			case 6 -> {
				System.out.println("Thank you for using the Bank Application!");
				sc.close();
				return;
			}
			default -> System.out.println("Invalid choice! Please try again.");
			}
			System.out.print("\nDo you want to continue? (y/n): ");
			cont = sc.next().charAt(0);
		} while (cont == 'y' || cont == 'Y');
		System.out.println("Thank you for using the Bank Application!");
		sc.close();
	}

	static void createAccount(Scanner sc) {
		System.out.print("Enter Account Number: ");
		int accNo = sc.nextInt();
		sc.nextLine();
		System.out.print("Enter Customer Name: ");
		String name = sc.nextLine();
		System.out.print("Enter Aadhar Number: ");
		String aadhar = sc.nextLine();
		System.out.print("Enter PAN Number: ");
		String pan = sc.nextLine();
		accounts[count++] = new account(accNo, name, aadhar, pan);
		System.out.println("Account created successfully!");
	}

	static account findAccount(int accNo) {
		for (int i = 0; i < count; i++) {
			if (accounts[i].accNo == accNo)
				return accounts[i];
		}
		return null;
	}

	static void creditAmount(Scanner sc) {
		System.out.print("Enter Account Number: ");
		int accNo = sc.nextInt();
		System.out.print("Enter Amount to Credit: ");
		double amount = sc.nextDouble();
		account acc = findAccount(accNo);
		if (acc != null) {
			acc.credit(amount);
		} else {
			System.out.println("Account not found!");
		}
	}

	static void debitAmount(Scanner sc) {
		System.out.print("Enter Account Number: ");
		int accNo = sc.nextInt();
		System.out.print("Enter Amount to Debit: ");
		double amount = sc.nextDouble();
		account acc = findAccount(accNo);
		if (acc != null) {
			acc.debit(amount);
		} else {
			System.out.println("Account not found!");
		}
	}

	static void miniStatement(Scanner sc) {
		System.out.print("Enter Account Number: ");
		int accNo = sc.nextInt();
		account acc = findAccount(accNo);
		if (acc != null) {
			acc.showBalance();
		} else {
			System.out.println("Account not found!");
		}
	}

	static void transferAmount(Scanner sc) {
		System.out.print("Enter FROM Account Number: ");
		int fromAccNo = sc.nextInt();
		System.out.print("Enter TO Account Number: ");
		int toAccNo = sc.nextInt();
		System.out.print("Enter Amount to Transfer: ");
		double amount = sc.nextDouble();
		account fromAcc = findAccount(fromAccNo);
		account toAcc = findAccount(toAccNo);
		if (fromAcc != null && toAcc != null) {
			if (fromAcc.balance >= amount) {
				fromAcc.balance -= amount;
				toAcc.balance += amount;
				System.out.println("Transfer Successful!");
				System.out.println("Remaining Balance (Sender): " + fromAcc.balance);
			} else {
				System.out.println("Insufficient balance in sender account!");
			}
		} else {
			System.out.println("One or both account numbers are invalid!");
		}
	}
}
